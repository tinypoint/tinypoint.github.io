---
layout:     post
title:      面试必考的跨域问题你还是不会？别怕，这里有最全的总结！！！
subtitle:   最全跨域方案总结
date:       2017-09-28
author:     tinypoint
header-img: img/post-bg-2015.jpg
catalog: true
tags:
    - 前端
    - 跨域
    - 面试
---


> 本文首次发布于 [tinypoint blog](http://tinypoint.github.io), 作者 [@张小点(tinypoint)](http://github.com/tinypoint) ,转载请保留原文链接.

# 前言

最近正是招聘季节，面试前端的小伙伴们难免会在跨域问题上被面试官们'刁难'，不过别怕，这篇文章将会详细的讲解常用的跨域解决方案，帮你在面试中披荆斩棘。

# 正文

通过XHR实现AJAX通信的一个主要限制，来源于跨域安全策略。默认情况下XHR对象只能访问与包含它的页面位于同一个域中的资源，即同源策略。这种安全策略可以预防某些恶意行为。但是，实现合理的跨域请求对开发某些浏览器应用程序是至关重要的。

## 同源策略

同源是指
- 协议相同(FTP、HTTP等)
- 域名相同(包括每一级域名, domain.com和www.domian.com不同)
- 端口相同

不符合以上任意一条都不属于同源


## 本地化字符串

本地化字符串的解决方法和上面的添加圆角一样

```swift
extension UILabel {
    @IBInspectable var localizedKey: String? {
        set {
            guard let newValue = newValue else { return }
            text = NSLocalizedString(newValue, comment: "")
        }
        get { return text }
    }
}

extension UIButton {
    @IBInspectable var localizedKey: String? {
        set {
            guard let newValue = newValue else { return }
            setTitle(NSLocalizedString(newValue, comment: ""), for: .normal)
        }
        get { return titleLabel?.text }
    }
}

extension UITextField {
    @IBInspectable var localizedKey: String? {
        set {
            guard let newValue = newValue else { return }
            placeholder = NSLocalizedString(newValue, comment: "")
        }
        get { return placeholder }
    }
}
```

这样，在 IB 中我们就可以利用对应类型的 Localized Key 来直接设置本地化字符串了：

![](https://ww1.sinaimg.cn/large/006tNc79gy1ff9h94um01j30aj01vjre.jpg)



# 结语

`IBInspectable` 可以使用这些的类型

- `Int`
- `CGFloat`
- `Double`
- `String`
- `Bool`
- `CGPoint`
- `CGSize`
- `CGRect`
- `UIColor`
- `UIImage`

合理的使用`@IBInspectable` 能减少很多的模板代码，提高我们的开发效率。

> 参考
> 
> -  [《再看关于 Storyboard 的一些争论》](https://onevcat.com/2017/04/storyboard-argue/)
> - [《@IBDesignable and @IBInspectable in Swift 3》](https://medium.com/@Anantha1992/ibdesignable-and-ibinspectable-in-swift-3-702d7dd00ca)
